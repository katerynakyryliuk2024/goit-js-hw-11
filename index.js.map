{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\n export const createGalleryCardTemplate = imgİnfo => {\n    return `\n    <li class='gallery-card'>\n    <a class='gallery-link' href='${imgİnfo.largeImageURL}'>\n    <img class='galley-img' src='${imgİnfo.webformatURL}' alt='${imgİnfo.tags}' width='360'  '/>\n    </a>\n    <div class='description'>\n    <p>Likes: ${imgİnfo.likes}</p>\n    <p>Views: ${imgİnfo.views}</p> \n    <p>Comments: ${imgİnfo.comments}</p>\n    <p> Downloads: ${imgİnfo.downloads}</p>\n    </div>\n    </li>\n    `;\n};","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { createGalleryCardTemplate } from \"./js/render-functions\";\n\n\nconst searchFormEl = document.querySelector('.search-form');\n\nconst galleryEl = document.querySelector('.gallery');\n\nconst loader = document.querySelector('.loader');\nconsole.dir(loader);\n\n  loader.style.display = 'inline-block';\n\n\n\n\nconst onSearchFormSubmit = event => {\n    event.preventDefault();\n    \n    \n    const searchedQuery = event.currentTarget.elements.search_input.value.trim();\n    if (searchedQuery==='') {\n       iziToast.warning({\n    title: 'Caution',\n    message: 'You forgot to full fill searching area',\n       }); \n        return;\n    }\n\n    \n\n    fetch(`https://pixabay.com/api/?key=48282241-c94e9d668c7a92092d53abf55&q=${searchedQuery}&per_page=9&image_type=photo&orientation=horizontal&safesearch=true`) \n        .finally(() => {\n            loader.style.display = 'none';\n        })\n    .then(response => {\n  \n        console.log(response);\n\n        if (!response.ok) {\n            throw new Error(response.status);\n        }\n      \n\n        return response.json();\n    })\n        .then(data => {\n            if (data.hits.length===0) {\n                 iziToast.error({\n    title: 'Error',\n    message: \"Sorry, there are no images matching your search query. Please try again!\",\n                 });\n                galleryEl.innerHTML = '';\n                searchFormEl.reset();\n                return;\n            }\n        \n            const galleryTemplate = data.hits.map(el => createGalleryCardTemplate(el)).join('');\n            galleryEl.innerHTML = galleryTemplate;\n\n            const gallerySLB = new SimpleLightbox('.gallery a', {captionsData: 'alt',\n        captions: true,\n            captionDelay: 250,\n            });\n           \n            gallerySLB.refresh();\n       \n    })\n    .catch(err => {\n        if (err.message === '404') {\n              iziToast.error({\n    title: 'Error',\n    message: \"Sorry, there are no images matching your search query. Please try again!\",\n});\n        }\n        console.log(err);\n    });\n\n    console.dir(searchedQuery);\n\n}\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);"],"names":["createGalleryCardTemplate","imgİnfo","searchFormEl","galleryEl","loader","onSearchFormSubmit","event","searchedQuery","iziToast","response","data","galleryTemplate","el","SimpleLightbox","err"],"mappings":"wvBACQ,MAAMA,EAA4BC,GAC/B;AAAA;AAAA,oCAEyBA,EAAQ,aAAa;AAAA,mCACtBA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA;AAAA,gBAG7DA,EAAQ,KAAK;AAAA,gBACbA,EAAQ,KAAK;AAAA,mBACVA,EAAQ,QAAQ;AAAA,qBACdA,EAAQ,SAAS;AAAA;AAAA;AAAA,MCHhCC,EAAe,SAAS,cAAc,cAAc,EAEpDC,EAAY,SAAS,cAAc,UAAU,EAE7CC,EAAS,SAAS,cAAc,SAAS,EAC/C,QAAQ,IAAIA,CAAM,EAEhBA,EAAO,MAAM,QAAU,eAKzB,MAAMC,EAAqBC,GAAS,CAChCA,EAAM,eAAc,EAGpB,MAAMC,EAAgBD,EAAM,cAAc,SAAS,aAAa,MAAM,OACtE,GAAIC,IAAgB,GAAI,CACrBC,EAAS,QAAQ,CACpB,MAAO,UACP,QAAS,wCACb,CAAQ,EACA,MACH,CAID,MAAM,qEAAqED,CAAa,qEAAqE,EACxJ,QAAQ,IAAM,CACXH,EAAO,MAAM,QAAU,MACnC,CAAS,EACJ,KAAKK,GAAY,CAId,GAFA,QAAQ,IAAIA,CAAQ,EAEhB,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAInC,OAAOA,EAAS,MACxB,CAAK,EACI,KAAKC,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAS,EAAG,CACrBF,EAAS,MAAM,CAC5B,MAAO,QACP,QAAS,0EACb,CAAkB,EACFL,EAAU,UAAY,GACtBD,EAAa,MAAK,EAClB,MACH,CAED,MAAMS,EAAkBD,EAAK,KAAK,IAAIE,GAAMZ,EAA0BY,CAAE,CAAC,EAAE,KAAK,EAAE,EAClFT,EAAU,UAAYQ,EAEH,IAAIE,EAAe,aAAc,CAAC,aAAc,MACvE,SAAU,GACN,aAAc,GAC1B,CAAa,EAEU,QAAO,CAE9B,CAAK,EACA,MAAMC,GAAO,CACNA,EAAI,UAAY,OACdN,EAAS,MAAM,CACzB,MAAO,QACP,QAAS,0EACb,CAAC,EAEO,QAAQ,IAAIM,CAAG,CACvB,CAAK,EAED,QAAQ,IAAIP,CAAa,CAE7B,EAEAL,EAAa,iBAAiB,SAAUG,CAAkB"}